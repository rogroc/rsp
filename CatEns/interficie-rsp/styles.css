:root{
  --row-height: 34px;
  --col-toggle-width: 28px;
  --bg-entity: #ffffff;
  --bg-tipus: #f5f5f5;
  --bg-particip: #d4edda;
  --bg-member: #d1ecf1;
  --bg-person: #e8e8fa;
  --sel-bg: #ffffcc;
  --col-border: #ddd;
  --font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

*{box-sizing:border-box;font-family:var(--font-family)}
body{margin:0;background:#fafafa;color:#222}
.topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px solid var(--col-border);background:#fff}
.topbar .title{font-weight:600}
.topbar .controls button{margin-left:8px;padding:6px 10px;border:1px solid #bbb;background:#f6f6f6;cursor:pointer}
.topbar .controls button:hover{background:#eee}

#tree-wrap{display:flex;flex-direction:column;height:calc(100vh - 96px);padding:8px}
.header-row{display:grid;align-items:center;gap:0;border-bottom:1px solid var(--col-border);background:#fff;padding:0 4px}
.rows{overflow:auto;flex:1;background:#fff;border:1px solid var(--col-border);border-top:none}

.row{display:grid;align-items:center;padding:4px 6px;min-height:var(--row-height);border-bottom:1px solid #f0f0f0}
.row .cell{padding:0 6px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.row .cell.center{text-align:center}
.row .cell.first{display:flex;align-items:center;gap:6px}

.row.header{font-weight:700;background:#fafafa}
.toggle-btn{width:var(--col-toggle-width);text-align:left;cursor:pointer;user-select:none}
.cell:first-child{padding-left:6px}

.row.entity{background:var(--bg-entity)}
.row.tipus{background:var(--bg-tipus)}
.row.particip{background:var(--bg-particip)}
.row.member{background:var(--bg-member)}
.row.person{background:var(--bg-person)}

.row.selected{background:var(--sel-bg) !important}

.col-name{overflow:visible}

.toggle-symbol{width:14px;display:inline-block;text-align:left}

.inline-input{width:100%;height:100%;box-sizing:border-box;border:1px solid #999;padding:2px 4px;font-size:14px}

.footer{padding:8px 12px;border-top:1px solid var(--col-border);background:#fff;color:#555;font-size:13px}

/* grid columns: we'll place them programmatically */